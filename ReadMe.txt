
项目简介：http://bookshiyi.com/archives/926

Github地址：http://github.com/bookshiyi/smartbox_stm32

硬件原理图：https://oss.bookshiyi.com/file/2016/06/smartbox-rev1.4.pdf

演示视频：http://v.youku.com/v_show/id_XMTYxODAxMjI2NA==.html









hmi是人机界面的源程序
host是STM32主机的源程序

2016-05-05  hmi 开机界面，初始化界面，取餐，存餐界面设计，密码和订单号录入
	    host 周边驱动和系统架构基本完成
2016-05-06  hmi 界面优化，
	    host 硬件电路完善了译码器和继电器电路，完成了译码器的驱动，更新软件架构 
2016-05-08  hmi 界面优化
	    host 连接12864并成功驱动
2016-05-14  hmi 界面优化，返回数据
	    host 扫码，显示，数据帧的处理（还未完成）。12864重新调整。
2016-05-15  hmi 
	    host hmi的数据帧处理，接收返回变量的数据。从扫码到显示，到生成密码，搜索箱子，密码录入，密码匹配，语音提示，基本逻辑功能完成。sim900a尚未驱动。
2016-05-16  hmi
	    host 规范格式，整理注释，修复一些数据库查找匹配等bug，修复可用餐柜数量的bug
2016-05-17  hmi 弱化管理员模式，弱化主页选项
	    host 增加密码防冲突检测，优化密码生成函数的结构
2016-05-24  hmi 界面重新做，加入了管理员页面，加入可用餐柜数 

2016-05-25  hmi 做了ICON库，包含等待，微笑哭脸灯，可以通过单片机发送指令显示剩余餐柜，显示当前餐柜，显示不同的输入完成后的状态（ICON实现）
	    host 优化核心算法
2016-05-26  hmi 优化开机欢迎界面，
	    host 优化hmi的通信驱动。sim900a的初始化和底层驱动
2016-05-29  hmi
	    host  短信可以发送。并且加入了定制短信内容的功能，可以发送指定的密码和柜门号
2016-05-30  hmi
	    host 优化短信单元并模块化，精简代码，重新设计发送短信，初始化代码，支持错误代码的返回，使用位操作的方法记录初始化自检码，加入CCD自检程序，
		sim syn hmi ccd 的自检程序，最终将自检代码发送到HMI（没错误不显示）
2016-05-31  hmi
	    host 重新设计SIM900A的初始化模块，加入重启功能。精简了短信的发送，一条短信大概1秒钟，建立数据管理表格，可以在HMI界面存餐
		//还应加入日志记录订单号校验管理员模式
2016-06-05  host 重新模块化主程序，重新写条码处理程序，规范了函数和变量的命名，在sim900a发送中加入了发送成功校验（也在12864中显示发送状态）
